---
pagination:
  data: posts
  size: 1
  alias: post
permalink: "/{{ post.slug }}/"
layout: base.njk
title: "{{ post.title }}"
isPost: true
---
<article class="post">
  {% set daysWithDates = post.days | selectattr("date") | list %}
  <div class="post-layout">
    {% if daysWithDates | length > 0 %}
    <aside class="day-sidebar">
      <button class="day-indicator" aria-expanded="false" aria-controls="day-nav">
        <span class="indicator-text">Dag 1</span>
        <svg class="indicator-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <nav class="day-nav" id="day-nav">
        <ul>
          {% for day in daysWithDates %}
          <li{% if loop.first %} class="active"{% endif %}>
            <a href="#dag-{{ loop.index }}" data-day="{{ loop.index }}">
              {% if day.endDate %}
                <span class="date">{{ day.date | kortdato }} – {{ day.endDate | kortdato }}</span>
              {% else %}
                <span class="date">{{ day.date | kortdato }}</span>
              {% endif %}
              {% if day.location %}<span class="location">{{ day.location }}</span>{% endif %}
            </a>
          </li>
          {% endfor %}
        </ul>
      </nav>
    </aside>
    {% endif %}

    <div class="post-main">
      <header class="post-header">
        <h1>{{ post.title }}</h1>
      </header>

      <div class="post-content">
        {% for day in post.days %}
        <section class="day-section" {% if day.date %}id="dag-{{ loop.index }}" data-day="{{ loop.index }}"{% endif %}>
          {% if day.heading and day.heading != 'Intro' %}
          <h2 class="day-heading">
            {% if day.location %}<span class="location-name">{{ day.location }}</span>{% endif %}
            <span class="date-text">
              {% if day.location %}<span class="dot">·</span> {% endif %}
              {% if day.endDate %}
                {{ day.date | datoSpenn(day.endDate) }}
              {% else %}
                {{ day.dateFormatted }}
              {% endif %}
            </span>
          </h2>
          {% endif %}

          <div class="day-content">
            {{ day.content | safe }}
          </div>
        </section>
        {% endfor %}
      </div>
    </div>
  </div>
</article>
