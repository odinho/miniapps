---
layout: base.njk
title: Heim
showHero: true
---

{# Destinasjonar - reisemål med datoar #}
<section class="posts-list">
  {% for post in posts %}
  {% if post.isDestination %}
  <a href="/{{ post.slug }}/" class="post-card">
    <div class="post-card-thumbnail">
      {% set firstImage = null %}
      {% for day in post.days %}
        {% if not firstImage and day.images and day.images.length > 0 %}
          {% set firstImage = day.images[0] %}
        {% endif %}
      {% endfor %}
      {% if firstImage %}
        <img src="{{ firstImage.thumbnail }}" alt="{{ post.title }}">
      {% else %}
        <div class="no-image">
          <span>&#9992;</span>
        </div>
      {% endif %}
    </div>
    <div class="post-card-content">
      <h2>{{ post.title }}</h2>
      {% set firstDay = post.days | selectattr("date") | first %}
      {% set lastDay = post.days | selectattr("date") | last %}
      {% if firstDay and lastDay %}
      <p class="post-dates">
        {{ firstDay.date | kortdato }} – {{ (lastDay.endDate or lastDay.date) | kortdato }}
        {% if firstDay.location %} · {{ firstDay.location }}{% endif %}
      </p>
      {% endif %}
      <p class="post-summary">{{ post.days | countDays }} dagar</p>
      <span class="read-more">Les meir &rarr;</span>
    </div>
  </a>
  {% endif %}
  {% else %}
  <p class="no-posts">Ingen innlegg enno. Køyr <code>npm run build</code> for å henta innhald.</p>
  {% endfor %}
</section>

{# Undervegs - refleksjonar og tekstar utan datoar #}
{% set hasArticles = false %}
{% for post in posts %}
  {% if not post.isDestination %}{% set hasArticles = true %}{% endif %}
{% endfor %}
{% if hasArticles %}
<section class="articles-section">
  <h2 class="articles-heading">Undervegs</h2>
  <div class="articles-list">
    {% for article in posts %}
    {% if not article.isDestination %}
    <a href="/{{ article.slug }}/" class="article-card">
      <h3>{{ article.title }}</h3>
      <span class="read-more">&rarr;</span>
    </a>
    {% endif %}
    {% endfor %}
  </div>
</section>
{% endif %}
